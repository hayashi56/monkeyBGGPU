# 要件
## コマンド名
retail

## 概要
このコマンドは、ファイルの末尾10行を表示するコマンドです。  
オプションでファイルが更新されるたびに末尾10行を表示して、ファイルを監視することができます。

## 使用方法
```
retail [オプション]… <FILE>…
```

## 入力仕様
### 引数
- FILE: ファイル名またはパス(TBD: 絶対パス・相対パスどちらも対応するように検討する)


### オプション
- -f: 入力ファイルの増減を監視して差分がある場合は以下の処理をします。
    - 増分: 入力ファイルの末尾に追加して保存された場合に逐次末尾10行を出力します。末尾以外の編集保存は、減分と同じ動作とします。
    - 減分: メッセージを出力し、末尾から10行を出力します。

|  オプション  |  モード  |  動作仕様  |  デフォルト  |  使用例  |
| ---- | ---- | ---- | ---- | ---- |
|  -f  |  descriptor  |  途中でファイルが削除されたり、ファイル名が変更されても処理を続けます。  |  〇  |  `-f=descriptor` or `-f`  |
|    |  name  |  途中でファイルが削除されたり、名前が変更されるとその旨を表示し終了します。  |    |  `-f=name`  |


## 出力仕様
### 標準
- 実行後、入力ファイルの末尾から10行を出力します。
- -fがある場合は末尾に新しい行が追加されるたびに末尾から10行を出力します。
- -fがある場合に末尾以外の変更があった場合は、changes to the file except at the endを表示し、末尾から10行を出力します。
- モードが`name`であり、ファイル名が変わったもしくはファイルが削除された場合、file has been renamed or deletedを表示します。
### エラー
- 指定されたファイルが存在しないか、アクセスできないとき、No such file を表示します。  
- ファイルを開く際にエラーが発生した際に、Error opening fileを表示します。  

## 終了方法
- Ctrl+C もしくはCtrl+Z を使用しないと、プロンプトは返ってきません。
    - Ctrl+C: プロセスを終了する(推奨)
    - Ctrl+Z: プロセスを中断する
- モードが`name`である場合はファイル名が変わったもしくはファイルが削除された時に終了します。

## 注意事項
- ログファイルのモニタリングなどの用途で使用されますが、大きなファイルや高頻度で更新されるファイルを監視する際には、パフォーマンスに影響を与える可能性があります。